(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{3341:function(e,r,t){"use strict";t.d(r,{Z:function(){return w}});var n=t(7294),a=t(3656),o=t(9199),i=t(8067),s=(0,i.k)(((e,{padding:r,first:t,last:n})=>({cardSection:{display:"block",marginLeft:-1*e.fn.size({size:r,sizes:e.spacing}),marginRight:-1*e.fn.size({size:r,sizes:e.spacing}),marginTop:t?-1*e.fn.size({size:r,sizes:e.spacing}):void 0,marginBottom:n?-1*e.fn.size({size:r,sizes:e.spacing}):void 0}}))),l=t(1267),c=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(e,r,t)=>r in e?c(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;const p=(0,n.forwardRef)(((e,r)=>{var t=e,{className:a,padding:o=0,component:i,first:c,last:p}=t,h=((e,r)=>{var t={};for(var n in e)u.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&d)for(var n of d(e))r.indexOf(n)<0&&f.call(e,n)&&(t[n]=e[n]);return t})(t,["className","padding","component","first","last"]);const{classes:y,cx:v}=s({padding:o,first:c,last:p},{name:"Card"});return n.createElement(l.x,((e,r)=>{for(var t in r||(r={}))u.call(r,t)&&m(e,t,r[t]);if(d)for(var t of d(r))f.call(r,t)&&m(e,t,r[t]);return e})({component:i||"div",className:v(y.cardSection,a),ref:r},h))}));p.displayName="@mantine/core/CardSection";var h=(0,i.k)((e=>({root:{position:"relative",overflow:"hidden",backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white}}))),y=Object.defineProperty,v=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,g=(e,r,t)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;const j={p:"md"},w=(0,n.forwardRef)(((e,r)=>{const t=(0,a.Z3)("Card",j,e),{component:i,className:s,p:l,radius:c,children:d,classNames:u,styles:f}=t,m=((e,r)=>{var t={};for(var n in e)x.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&v)for(var n of v(e))r.indexOf(n)<0&&b.call(e,n)&&(t[n]=e[n]);return t})(t,["component","className","p","radius","children","classNames","styles"]),{classes:y,cx:w}=h(null,{name:"Card",classNames:u,styles:f}),P=n.Children.toArray(d),k=P.map(((e,r)=>"object"===typeof e&&e&&"type"in e&&e.type===p?(0,n.cloneElement)(e,{padding:l,first:0===r,last:r===P.length-1}):e));return n.createElement(o.X,((e,r)=>{for(var t in r||(r={}))x.call(r,t)&&g(e,t,r[t]);if(v)for(var t of v(r))b.call(r,t)&&g(e,t,r[t]);return e})({className:w(y.root,s),radius:c,p:l,component:i||"div",ref:r},m),k)}));w.Section=p,w.displayName="@mantine/core/Card"},9199:function(e,r,t){"use strict";t.d(r,{X:function(){return m}});var n=t(7294),a=t(3656),o=(0,t(8067).k)(((e,{radius:r,shadow:t,withBorder:n})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(r),boxShadow:e.shadows[t]||t||"none",border:n?`1px solid ${"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[2]}`:void 0}}))),i=t(1267),s=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,r,t)=>r in e?s(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;const f={},m=(0,n.forwardRef)(((e,r)=>{const t=(0,a.Z3)("Paper",f,e),{component:s,className:m,children:p,radius:h,withBorder:y,shadow:v}=t,x=((e,r)=>{var t={};for(var n in e)c.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&l)for(var n of l(e))r.indexOf(n)<0&&d.call(e,n)&&(t[n]=e[n]);return t})(t,["component","className","children","radius","withBorder","shadow"]),{classes:b,cx:g}=o({radius:h,shadow:v,withBorder:y},{name:"Paper"});return n.createElement(i.x,((e,r)=>{for(var t in r||(r={}))c.call(r,t)&&u(e,t,r[t]);if(l)for(var t of l(r))d.call(r,t)&&u(e,t,r[t]);return e})({component:s||"div",className:g(b.root,m),ref:r},x),p)}));m.displayName="@mantine/core/Paper"},7156:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/battle",function(){return t(5780)}])},5780:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return de}});var n=t(5893),a=t(7294),o=t(9473),i=t(9199),s=t(112),l=t(5055),c=function(){var e=(0,a.useState)(1),r=e[0],t=e[1],o=setInterval((function(){t(Math.floor(6*Math.random()+1))}),100);return setTimeout((function(){clearInterval(o)}),2e3),(0,n.jsx)("div",{children:(0,n.jsx)(i.X,{shadow:"xs",p:"md",children:(0,n.jsx)(s.x,{children:r})})})},d=function(e,r){e(!1),r(!0)},u=function(e){var r=function(){return Math.floor(6*Math.random()+1)},t=r(),n=r(),a=r();e({threeDice:[t,n,a],totalDice:t+n+a})},f=function(e){var r=e.diceCountArray,t=e.setDiceCountArray,o=e.setRivalDiceCount,f=e.setIsStatusUpPhase,m=e.isDiceRollPhase,p=e.setIsDiceRollPhase,h=(0,a.useState)(!1),y=h[0],v=h[1];return(0,n.jsxs)("div",{className:"text-center",children:[y?(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)(c,{}),(0,n.jsx)(c,{}),(0,n.jsx)(c,{}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsx)(c,{})})]}):(0,n.jsxs)("div",{className:"flex justify-center",children:[r.threeDice.map((function(e,r){return(0,n.jsx)(i.X,{shadow:"xs",p:"md",children:(0,n.jsx)(s.x,{children:e})},r)})),(0,n.jsx)(i.X,{className:"ml-3",shadow:"xs",p:"md",children:(0,n.jsx)(s.x,{children:r.totalDice})})]}),m&&(0,n.jsx)(l.z,{onClick:function(){u(t),u(o),d(p,v),setTimeout((function(){d(v,f)}),1e3)},children:"\u30b5\u30a4\u30b3\u30ed\u3092\u632f\u308b"})]})},m=function(e){var r=e.playersHitPoint,t=(0,a.useState)(!1),o=t[0],i=t[1];return(0,a.useEffect)((function(){r.playerHp>=r.rivalHp&&i(!0)}),[]),(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(l.z,{className:"h-96 w-96",variant:"gradient",gradient:{from:"orange",to:"red",deg:35},children:(0,n.jsx)("p",{className:"text-8xl",children:o?"\u52dd\u5229\uff01":"\u6557\u5317..."})})})},p=t(4051),h=t.n(p),y=t(9564);function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x(e,r,t,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void t(c)}s.done?r(l):Promise.resolve(l).then(n,a)}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var r=e.playersPartyStatus,t=e.playersHitPoint,o=e.setPlayersHitPoint,i=e.setIsFightPhase,s=e.setIsDiceRollPhase,c=e.setIsEndPhase,u=(0,a.useState)(0),f=u[0],m=u[1],p=b(r.player).sort((function(e,r){return e.order<r.order?-1:e.order>r.order?1:0})),v=b(r.rival).sort((function(e,r){return e.order<r.order?-1:e.order>r.order?1:0})),g=p.map((function(e,r){return e.power-v[r].power})),j=function(e){m(e),o((function(r){return g[e]>=0?{playerHp:r.playerHp,rivalHp:r.rivalHp-g[e]}:{playerHp:r.playerHp+g[e],rivalHp:r.rivalHp}}))},w=function(e){return new Promise((function(r){return setTimeout(r,e)}))},P=function(){var e,r=(e=h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<3)){e.next=8;break}return j(r),e.next=5,w(2e3);case 5:r++,e.next=1;break;case 8:d(i,s);case 9:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){x(o,n,a,i,s,"next",e)}function s(e){x(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();(0,a.useEffect)((function(){(t.playerHp<=0||t.rivalHp<=0)&&setTimeout((function(){d(i,c)}),1500)}),[t]);var k=(0,a.useRef)(!1);return(0,a.useEffect)((function(){k.current||(P(),k.current=!0)}),[]),(0,n.jsxs)("div",{children:[0===f&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(y.E,{src:p[0].imgUrl,className:"rounded-full w-44"}),(0,n.jsx)(l.z,{variant:"gradient",gradient:{from:"teal",to:"blue",deg:60},children:g[0]>=0?"\u76f8\u624b\u306b-".concat(g[0],"\u30c0\u30e1\u30fc\u30b8\uff01"):"\u81ea\u5206\u306b".concat(g[0],"\u30c0\u30e1\u30fc\u30b8\uff01")}),(0,n.jsx)(y.E,{src:v[0].imgUrl,className:"rounded-full w-44"})]}),1===f&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(y.E,{src:p[1].imgUrl,className:"rounded-full w-44"}),(0,n.jsx)(l.z,{variant:"gradient",gradient:{from:"teal",to:"blue",deg:60},children:g[1]>=0?"\u76f8\u624b\u306b-".concat(g[1],"\u30c0\u30e1\u30fc\u30b8\uff01"):"\u81ea\u5206\u306b".concat(g[1],"\u30c0\u30e1\u30fc\u30b8\uff01")}),(0,n.jsx)(y.E,{src:v[1].imgUrl,className:"rounded-full w-44"})]}),2===f&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(y.E,{src:p[2].imgUrl,className:"rounded-full w-44"}),(0,n.jsx)(l.z,{variant:"gradient",gradient:{from:"teal",to:"blue",deg:60},children:g[2]>=0?"\u76f8\u624b\u306b-".concat(g[2],"\u30c0\u30e1\u30fc\u30b8\uff01"):"\u81ea\u5206\u306b".concat(g[2],"\u30c0\u30e1\u30fc\u30b8\uff01")}),(0,n.jsx)(y.E,{src:v[2].imgUrl,className:"rounded-full w-44"})]})]})};function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e,r,t){var n=function(e,r){return Math.floor(Math.random()*(r-e+1))+e},a=[];return w(Array(t)).map((function(){for(var t=n(e,r);a.includes(t);)t=n(e,r);a.push(t)})),a},k=t(3341),S=t(3656),N=t(9983);const O="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function z(e){const[r,t]=(0,a.useState)("");return O((()=>{t(`mantine-${Math.random().toString(36).slice(2,11)}`)}),[]),e||r}var E=Object.defineProperty,C=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(e,r,t)=>r in e?E(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,H=(e,r)=>{for(var t in r||(r={}))D.call(r,t)&&A(e,t,r[t]);if(C)for(var t of C(r))I.call(r,t)&&A(e,t,r[t]);return e};var _=t(8067),R=Object.defineProperty,U=Object.defineProperties,T=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,X=(e,r,t)=>r in e?R(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,F=(e,r)=>{for(var t in r||(r={}))M.call(r,t)&&X(e,t,r[t]);if(B)for(var t of B(r))$.call(r,t)&&X(e,t,r[t]);return e},L=(e,r)=>U(e,T(r));const Z={xs:16,sm:20,md:24,lg:30,xl:36},W={xs:8,sm:10,md:14,lg:16,xl:20};var Y=(0,_.k)(((e,{size:r,radius:t,color:n,transitionDuration:a},o)=>{const i=e.fn.size({size:r,sizes:Z}),s=e.fn.variant({variant:"filled",color:n});return{icon:{ref:o("icon"),color:e.white,transform:"translateY(5px) scale(0.5)",opacity:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${a}ms`,pointerEvents:"none",width:e.fn.size({size:r,sizes:W}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:"0ms"}},root:{display:"flex",alignItems:"center"},inner:{position:"relative",width:i,height:i},label:L(F({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",paddingLeft:e.spacing.sm,fontSize:e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:`${i}px`,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black}),input:L(F({},e.fn.focusStyles()),{appearance:"none",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.white,border:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]}`,width:i,height:i,borderRadius:e.fn.radius(t),padding:0,display:"block",margin:0,transition:`border-color ${a}ms ease, background-color ${a}ms ease`,"&:checked":{backgroundColor:s.background,borderColor:s.background,[`& + .${o("icon")}`]:{opacity:1,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${o("icon")}`]:{color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5]}}})}})),K=t(1267),V=Object.defineProperty,q=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(e,r,t)=>r in e?V(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ee=(e,r)=>{for(var t in r||(r={}))G.call(r,t)&&Q(e,t,r[t]);if(q)for(var t of q(r))J.call(r,t)&&Q(e,t,r[t]);return e};const re={size:"sm",__staticSelector:"Checkbox",transitionDuration:100,icon:function(e){var r=e,{indeterminate:t}=r,n=((e,r)=>{var t={};for(var n in e)D.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&C)for(var n of C(e))r.indexOf(n)<0&&I.call(e,n)&&(t[n]=e[n]);return t})(r,["indeterminate"]);return t?a.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},n),a.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):a.createElement("svg",H({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),a.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}},te=(0,a.forwardRef)(((e,r)=>{const t=(0,S.Z3)("Checkbox",re,e),{className:n,style:o,sx:i,checked:s,color:l,label:c,indeterminate:d,id:u,size:f,radius:m,wrapperProps:p,children:h,classNames:y,styles:v,transitionDuration:x,icon:b,__staticSelector:g}=t,j=((e,r)=>{var t={};for(var n in e)G.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&q)for(var n of q(e))r.indexOf(n)<0&&J.call(e,n)&&(t[n]=e[n]);return t})(t,["className","style","sx","checked","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","__staticSelector"]),w=z(u),{systemStyles:P,rest:k}=(0,N.x)(j),{classes:O,cx:E}=Y({size:f,radius:m,color:l,transitionDuration:x},{classNames:y,styles:v,name:g});return a.createElement(K.x,ee(ee({className:E(O.root,n),style:o,sx:i},P),p),a.createElement("div",{className:O.inner},a.createElement("input",ee({id:w,ref:r,type:"checkbox",className:O.input,checked:d||s},k)),a.createElement(b,{indeterminate:d,className:O.icon})),c&&a.createElement("label",{className:O.label,htmlFor:w},c))}));function ne(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}te.displayName="@mantine/core/Checkbox";var ae=function(e){var r=e.rivalPartyArray,t=e.pokemonList,s=e.playerDefaultParty,c=e.setIsSelectPokePhase,u=e.setPlayersPartyStatus,f=e.setPlayerDefaultParty,m=e.setIsDiceRollPhase,p=(0,o.v9)((function(e){return e.capturedPoke})),h=(0,a.useState)(!1),v=h[0],x=h[1];(0,a.useEffect)((function(){3===s.filter((function(e){return e.checked})).length?x(!0):x(!1)}),[s]);var b=function(e){var r=s.map((function(r,t){return t!==e?r:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ne(e,r,t[r])}))}return e}({},r,{checked:!r.checked})}));f(r)};return(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center gap-2",children:null===r||void 0===r?void 0:r.map((function(e){return(0,n.jsx)(k.Z,{className:"bg-red-600 w-52 border-white",shadow:"sm",p:"lg",radius:"lg",withBorder:!0,children:(0,n.jsx)(y.E,{src:t&&t[e].sprites.back_default,className:"rounded-full w-24 mx-auto mb-5 bg-red-100"},Math.random())},e)}))}),(0,n.jsx)(i.X,{className:"inline-block bg-red-600 text-5xl text-white my-20 px-5 py-2 rounded-lg ",children:"VS"}),(0,n.jsxs)("div",{className:"flex-col ",children:[(0,n.jsx)("div",{className:"flex justify-center gap-2",children:t&&(null===p||void 0===p?void 0:p.map((function(e,r){var a,o;return(0,n.jsx)("label",{htmlFor:"id_".concat(r),className:"flex-col",children:(0,n.jsxs)(k.Z,{className:"bg-red-600 w-52 border-white",shadow:"sm",p:"lg",radius:"lg",withBorder:!0,children:[(0,n.jsx)(y.E,{src:null===(a=t[e])||void 0===a?void 0:a.sprites.back_default,className:"rounded-full w-24 mx-auto mb-5 bg-red-100"}),(0,n.jsx)("div",{className:"ml-16",children:(0,n.jsx)(te,{id:"id_".concat(r),size:"xl",disabled:!(null===(o=s[r])||void 0===o?void 0:o.checked)&&v,onChange:function(){return b(r)}})})]})},"key_".concat(r))})))}),(0,n.jsx)("div",{className:"text-center mt-20",children:v?(0,n.jsx)(l.z,{onClick:function(){var e=s.filter((function(e){return e.checked})),n=P(0,6,3).map((function(e,t){return r[e]})),a={player:e.map((function(e,r){return{id:r,imgUrl:t&&t[e.pokeIndex].sprites.back_default,power:10,order:0,checked:!1,disabled:!1}})),rival:n.map((function(e,r){var n;return{id:r,imgUrl:t&&(null===(n=t[e])||void 0===n?void 0:n.sprites.back_default),power:10,order:0,checked:!1,disabled:!1}}))};u(a),d(c,m)},variant:"gradient",gradient:{from:"orange",to:"red"},style:{marginBottom:30},children:"\u30d0\u30c8\u30eb\u958b\u59cb"}):(0,n.jsx)(l.z,{variant:"gradient",gradient:{from:"orange",to:"red"},style:{marginBottom:30},children:"\u30dd\u30b1\u30e2\u30f3\u30923\u5339\u9078\u3093\u3067\u304f\u3060\u3055\u3044"})})]})]})};function oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ie(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){oe(e,r,t[r])}))}return e}var se=function(e){var r=e.diceCountArray,t=e.setDiceCountArray,o=e.playersPartyStatus,s=e.setPlayersPartyStatus,c=e.isStatusUpPhase,u=e.rivalDiceCount,f=e.setIsFightPhase,m=e.setIsStatusUpPhase,p=e.children,h=function(e,n){if(n&&r.totalDice>0||!n&&o.player[e].power>0){var a=o.player.map((function(r){return r.id===e?ie({},r,{power:r.power+(n?1:-1)}):r})),i=ie({},o,{player:a});t(ie({},r,{totalDice:r.totalDice+(n?-1:1)})),s(i)}else console.log("null")},v=function(){var e=o.player.map((function(e){return ie({},e,{order:0,checked:!1})}));s(ie({},o,{player:e}))};(0,a.useEffect)((function(){v()}),[c]);return(0,n.jsxs)("div",{className:"flex justify-around",children:[(0,n.jsx)("div",{children:o.player.map((function(e,r){return(0,n.jsxs)("div",{className:"flex items-center",children:[c&&(0,n.jsxs)("div",{children:[(0,n.jsx)(l.z,{onClick:function(){return h(r,"up")},variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:"+"}),(0,n.jsx)(l.z,{variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:e.power}),(0,n.jsx)(l.z,{onClick:function(){return h(r)},variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:"-"})]}),(0,n.jsxs)("div",{className:"flex-col items-center justify-center text-right",children:[c&&(0,n.jsx)(i.X,{className:"inline-block bg-red-600 text-base text-white px-1 rounded-md",children:"\u9806\u756a\u3092\u6c7a\u3081\u308b"}),(0,n.jsxs)("label",{className:"flex",htmlFor:"battleId_".concat(r),children:[(0,n.jsx)(y.E,{src:e.imgUrl,className:"rounded-full w-36 mt-2 mx-auto mb-5 bg-red-500"}),c&&(0,n.jsx)(te,{size:"xl",id:"battleId_".concat(r),disabled:o.player[r].checked,onChange:function(){return function(e){var r=o.player.filter((function(e){return e.checked})).length,t=o.player.map((function(t){return t.id===e?ie({},t,{order:r,checked:!t.checked,disabled:!0}):t}));s(ie({},o,{player:t}))}(r)},checked:o.player[r].checked})]},"battleKey_".concat(r))]})]},r)}))}),(0,n.jsxs)("div",{className:"flex-col -ml-32 text-center",children:[3===o.player.filter((function(e){return e.checked})).length&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"my-6",children:(0,n.jsx)(l.z,{onClick:v,variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:"\u9806\u756a\u3092\u30ea\u30bb\u30c3\u30c8"})}),(0,n.jsx)("div",{className:"my-6",children:(0,n.jsx)(l.z,{onClick:function(){!function(){for(var e=o.rival,r=u.totalDice;r>0;r--){var t=P(0,2,1)[0],n=e.map((function(e){return e.id===t?ie({},e,{power:e.power+1}):e}));e=n}var a=P(0,2,3);e=e.map((function(e,r){return ie({},e,{order:a[r]})})),s(ie({},o,{rival:e}))}(),d(m,f)},variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:"\u6226\u95d8\u958b\u59cb"})})]}),(0,n.jsx)("div",{className:"my-36 ml-44",children:p})]}),(0,n.jsx)("div",{children:o.rival.map((function(e,r){return(0,n.jsx)(y.E,{src:e.imgUrl,className:"rounded-full w-36 mt-2 mx-auto mb-5 bg-red-500"},r)}))})]})},le=t(4526),ce=function(e){var r=e.diceCountArray,t=e.rivalDiceCount,a=e.playersHitPoint;return(0,n.jsxs)("div",{className:"flex justify-around",children:[(0,n.jsxs)(l.z,{variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:["\u81ea\u5206\u306e\u30d1\u30ef\u30fc",r.totalDice]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)(l.z,{className:"ml-14",variant:"gradient",gradient:{from:"orange",to:"red",deg:35},children:["\u30d7\u30ec\u30a4\u30e4\u30fc\u306eHP:",a.playerHp]}),(0,n.jsx)(l.z,{className:"",variant:"gradient",gradient:{from:"orange",to:"red",deg:35},children:(0,n.jsxs)("p",{children:["\u30e9\u30a4\u30d0\u30eb\u306eHP:",a.rivalHp]})})]}),(0,n.jsxs)(l.z,{variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},children:["\u30e9\u30a4\u30d0\u30eb\u306e\u30d1\u30ef\u30fc",t.totalDice]})]})},de=function(){var e=(0,a.useState)(!0),r=e[0],t=e[1],i=(0,a.useState)(!1),s=i[0],l=i[1],c=(0,a.useState)(!1),d=c[0],u=c[1],p=(0,a.useState)(!1),h=p[0],y=p[1],v=(0,a.useState)(!1),x=v[0],b=v[1],j=(0,a.useState)({playerHp:50,rivalHp:50}),w=j[0],k=j[1],S=(0,a.useState)(P(0,150,6)),N=S[0],O=(S[1],(0,a.useState)({threeDice:[0,0,0],totalDice:0})),z=O[0],E=O[1],C=(0,a.useState)({threeDice:[0,0,0],totalDice:0}),D=C[0],I=C[1],A=(0,o.v9)((function(e){return e.capturedPoke})),H=(0,le.O3)(),_=H.pokemonList,R=(H.error,(0,a.useState)({player:[],rival:[]})),U=R[0],T=R[1],B=(0,a.useState)([]),M=B[0],$=B[1];return(0,a.useEffect)((function(){var e=A.map((function(e,r){return{id:r,pokeIndex:e,checked:!1}}));$(e)}),[]),(0,n.jsx)("div",{children:x?(0,n.jsx)(m,{playersHitPoint:w}):r?(0,n.jsx)(ae,{rivalPartyArray:N,pokemonList:_,playerDefaultParty:M,setIsSelectPokePhase:t,setIsDiceRollPhase:l,setPlayersPartyStatus:T,setPlayerDefaultParty:$}):(0,n.jsxs)("div",{children:[(0,n.jsx)(ce,{playersHitPoint:w,diceCountArray:z,rivalDiceCount:D}),(0,n.jsx)(se,{diceCountArray:z,setDiceCountArray:E,playersPartyStatus:U,isStatusUpPhase:d,setIsStatusUpPhase:u,setPlayersPartyStatus:T,rivalDiceCount:D,setIsFightPhase:y,children:h&&(0,n.jsx)(g,{playersHitPoint:w,setPlayersHitPoint:k,playersPartyStatus:U,setIsFightPhase:y,setIsDiceRollPhase:l,setIsEndPhase:b})}),(0,n.jsx)(f,{diceCountArray:z,setDiceCountArray:E,setRivalDiceCount:I,isStatusUpPhase:d,setIsStatusUpPhase:u,isDiceRollPhase:s,setIsDiceRollPhase:l})]})})}}},function(e){e.O(0,[774,888,179],(function(){return r=7156,e(e.s=r);var r}));var r=e.O();_N_E=r}]);